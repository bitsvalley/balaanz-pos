"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[755],{755:(O,p,s)=>{s.r(p),s.d(p,{TableModule:()=>v});var i=s(6814),l=s(5548),d=s(3057),b=s(5861),e=s(6689);const u=function(n,o){return{"badge-open":n,"badge-reserved":o}};function _(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",8),e.NdJ("click",function(){const g=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.selectTable(g))}),e._UZ(1,"img",9),e.TgZ(2,"div",10)(3,"h3"),e._uU(4),e.qZA(),e.TgZ(5,"div",11),e._uU(6),e.ALo(7,"uppercase"),e.qZA()()()}if(2&n){const t=o.$implicit;e.Q6J("ngClass",t.level.toLowerCase()),e.xp6(1),e.Q6J("src",t.image,e.LSH)("alt",t.level+" Table"),e.xp6(3),e.AsE("",t.TableId," - ",t.level,""),e.xp6(1),e.Q6J("ngClass",e.WLB(9,u,"open"===t.status,"reserve"===t.status)),e.xp6(1),e.hij(" ",e.lcZ(7,7,t.status)," ")}}function m(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"ion-button",22),e.NdJ("click",function(){const g=e.CHM(t).$implicit,c=e.oxw(3);return e.KtG(c.selectChairAndNavigate(g,c.selectedTable))}),e._uU(1),e.ALo(2,"uppercase"),e.qZA()}if(2&n){const t=o.$implicit,a=e.oxw(3);e.Q6J("color",a.getChairColor(t.status)),e.xp6(1),e.AsE(" ",t.ChairId," - ",e.lcZ(2,3,t.status)," ")}}function C(n,o){1&n&&(e.TgZ(0,"ion-button",23),e._uU(1," Fully Reserved "),e.qZA())}function h(n,o){if(1&n&&(e.TgZ(0,"ion-content")(1,"div",15),e._UZ(2,"img",16),e.TgZ(3,"div",17)(4,"h2"),e._uU(5),e.qZA(),e.TgZ(6,"p"),e._uU(7),e.qZA(),e.TgZ(8,"div",18)(9,"h3"),e._uU(10,"Chairs"),e.qZA(),e.TgZ(11,"div",19),e.YNc(12,m,3,5,"ion-button",20),e.qZA()(),e.YNc(13,C,2,0,"ion-button",21),e.qZA()()()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("src",t.selectedTable.image,e.LSH)("alt",t.selectedTable.level+" Table"),e.xp6(3),e.hij("",t.selectedTable.level," Table"),e.xp6(2),e.hij("Assigned Waiter: ",t.selectedTable.AssignedWaiterName,""),e.xp6(5),e.Q6J("ngForOf",t.selectedTable.chairs),e.xp6(1),e.Q6J("ngIf",t.checkIfAllChairsReserved(t.selectedTable))}}function T(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",1)(3,"ion-button",12),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.closeTableDetails())}),e._UZ(4,"ion-icon",13),e.qZA()(),e.TgZ(5,"ion-title"),e._uU(6),e.qZA()()(),e.YNc(7,h,14,6,"ion-content",14)}if(2&n){const t=e.oxw();e.xp6(6),e.hij("",null==t.selectedTable?null:t.selectedTable.TableId," Details"),e.xp6(1),e.Q6J("ngIf",t.selectedTable)}}const f=[{path:"",component:(()=>{class n{constructor(t,a){this.router=t,this.toastController=a,this.tables=[{TableId:"T001",AssignedWaiterName:"John Doe",status:"open",level:"VIP",chairs:[{ChairId:"C001",status:"open"},{ChairId:"C002",status:"open"},{ChairId:"C003",status:"open"},{ChairId:"C004",status:"open"}],image:"https://png.pngtree.com/element_our/20200609/ourmid/pngtree-simulation-restaurant-table-image_2233375.jpg"},{TableId:"T002",AssignedWaiterName:"Jane Smith",status:"open",level:"Classic",chairs:[{ChairId:"C001",status:"open"},{ChairId:"C002",status:"open"},{ChairId:"C003",status:"open"},{ChairId:"C004",status:"open"}],image:"https://img.freepik.com/free-psd/kitchen-table-isolated-transparent-background_191095-13975.jpg"},{TableId:"T003",AssignedWaiterName:"Alice Cooper",status:"open",level:"Premium",chairs:[{ChairId:"C001",status:"open"},{ChairId:"C002",status:"open"},{ChairId:"C003",status:"open"},{ChairId:"C004",status:"open"}],image:"https://png.pngtree.com/element_our/20190528/ourmid/pngtree-modern-solid-wood-dining-table-chair-image_1161648.jpg"}],this.selectedTable=null}ngOnInit(){this.loadTableDataFromLocalStorage()}loadTableDataFromLocalStorage(){const t=localStorage.getItem("tables");t?this.tables=JSON.parse(t):this.resetToOpenStatus()}resetToOpenStatus(){this.tables.forEach(t=>{t.status="open",t.chairs.forEach(a=>a.status="open")}),this.saveTableDataToLocalStorage()}saveTableDataToLocalStorage(){localStorage.setItem("tables",JSON.stringify(this.tables))}presentToast(t){var a=this;return(0,b.Z)(function*(){(yield a.toastController.create({message:t,duration:2e3,color:"danger"})).present()})()}checkIfAllChairsReserved(t){return t.chairs.every(a=>"reserved"===a.status)}checkIfAnyChairOpen(t){return t.chairs.some(a=>"open"===a.status)}toggleChairStatus(t,a){t.status="open"===t.status?"reserved":"open",console.log(a.chairs),this.checkIfAllChairsReserved(a)?(console.log("All chairs reserved, setting table to reserved."),a.status="reserved"):(console.log("Some chairs are still open, table stays open."),a.status="open"),this.saveTableDataToLocalStorage()}getChairColor(t){return"reserved"===t?"danger":"success"}selectTable(t){this.checkIfAllChairsReserved(t)?(this.selectedTable=null,alert("This table is fully reserved and cannot be opened.")):(this.selectedTable=t,localStorage.setItem("selectedTable",JSON.stringify(t)))}closeTableDetails(){this.selectedTable=null,localStorage.removeItem("selectedTable")}selectChairAndNavigate(t,a){"reserved"!==t.status?(t.status="reserved",this.saveTableDataToLocalStorage(),localStorage.setItem("selectedTable",JSON.stringify(a)),this.router.navigateByUrl("/dashboard").then(()=>{window.location.reload()})):this.presentToast(`Chair ${t.ChairId} is already reserved.`)}checkIfAnyChairSelected(t){return t.chairs.some(a=>"reserved"===a.status)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.F0),e.Y36(l.yF))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-table"]],decls:12,vars:2,consts:[["color","primary"],["slot","start"],["defaultHref","/"],[1,"bg-light"],[1,"tables-container"],[1,"table-grid"],["class","table-card",3,"ngClass","click",4,"ngFor","ngForOf"],[3,"isOpen","didDismiss"],[1,"table-card",3,"ngClass","click"],[1,"table-image",3,"src","alt"],[1,"table-info"],[1,"status-badge",3,"ngClass"],[3,"click"],["name","close-outline"],[4,"ngIf"],[1,"table-details"],[1,"detail-image",3,"src","alt"],[1,"table-details-content"],[1,"chairs-section"],[1,"chair-grid"],[3,"color","click",4,"ngFor","ngForOf"],["expand","full","disabled","",4,"ngIf"],[3,"color","click"],["expand","full","disabled",""]],template:function(t,a){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),e._UZ(3,"ion-back-button",2),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Table Reservation"),e.qZA()()(),e.TgZ(6,"ion-content",3)(7,"div",4)(8,"div",5),e.YNc(9,_,8,12,"div",6),e.qZA()(),e.TgZ(10,"ion-modal",7),e.NdJ("didDismiss",function(){return a.closeTableDetails()}),e.YNc(11,T,8,2,"ng-template"),e.qZA()()),2&t&&(e.xp6(9),e.Q6J("ngForOf",a.tables),e.xp6(1),e.Q6J("isOpen",null!==a.selectedTable))},dependencies:[i.mk,i.sg,i.O5,l.oU,l.YG,l.Sm,l.W2,l.Gu,l.gu,l.wd,l.sr,l.ki,l.cs,i.gd],styles:[".bg-light[_ngcontent-%COMP%]{--background: linear-gradient(135deg, #f6f8f9 0%, #e5ebee 100%)}.tables-container[_ngcontent-%COMP%]{padding:20px;max-width:1200px;margin:0 auto}.table-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:20px}.table-card[_ngcontent-%COMP%]{background:white;border-radius:15px;box-shadow:0 10px 25px #0000001a;overflow:hidden;transition:transform .3s ease,box-shadow .3s ease;cursor:pointer}.table-card[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 15px 35px #00000026}.table-card[_ngcontent-%COMP%]   .table-image[_ngcontent-%COMP%]{width:100%;height:250px;object-fit:cover}.table-card[_ngcontent-%COMP%]   .table-info[_ngcontent-%COMP%]{padding:15px;text-align:center}.table-card[_ngcontent-%COMP%]   .table-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;font-weight:700;color:#2c3e50}.table-card[_ngcontent-%COMP%]   .table-info[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-block;padding:5px 10px;border-radius:20px;font-weight:700;text-transform:uppercase}.table-card[_ngcontent-%COMP%]   .table-info[_ngcontent-%COMP%]   .badge-open[_ngcontent-%COMP%]{background-color:#2ecc71;color:#fff}.table-card[_ngcontent-%COMP%]   .table-info[_ngcontent-%COMP%]   .badge-reserved[_ngcontent-%COMP%]{background-color:#e74c3c;color:#fff}.table-card.vip[_ngcontent-%COMP%]{border-top:4px solid #f1c40f}.table-card.classic[_ngcontent-%COMP%]{border-top:4px solid #3498db}.table-card.premium[_ngcontent-%COMP%]{border-top:4px solid #9b59b6}.table-details[_ngcontent-%COMP%]   .detail-image[_ngcontent-%COMP%]{width:100%;max-height:400px;object-fit:cover}.table-details[_ngcontent-%COMP%]   .table-details-content[_ngcontent-%COMP%]{padding:20px}.table-details[_ngcontent-%COMP%]   .table-details-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:15px}.table-details[_ngcontent-%COMP%]   .table-details-content[_ngcontent-%COMP%]   .chairs-section[_ngcontent-%COMP%]{margin-top:20px}.table-details[_ngcontent-%COMP%]   .table-details-content[_ngcontent-%COMP%]   .chair-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:10px}.table-details[_ngcontent-%COMP%]   .disabled-button[_ngcontent-%COMP%]{--background: #b0bec5;--color: white}.table-details[_ngcontent-%COMP%]   ion-button[disabled][_ngcontent-%COMP%]{--background: #b0bec5;--color: white;cursor:not-allowed}"]}),n})()}];let x=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.Bz.forChild(f),d.Bz]}),n})(),v=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[i.ez,l.Pc,x]}),n})()}}]);